(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{70:function(e,t,a){"use strict";a.r(t);a(165);var n=a(167),r=(a(166),a(168)),l=(a(250),a(310)),o=(a(740),a(743)),c=(a(321),a(347)),m=a(139),i=a(140),s=a(154),u=a(141),h=a(155),p=a(0),d=a.n(p),f=a(352),E={width:"30%",textAlign:"center"},g={width:"70%",textAlign:"center"},b={marginBottom:"20px"},v=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],cpu:0,mem:0,tasksum:0,hostsum:0,onlinetime:0,cpudata:[{name:"Group A",value:0,color:"#8884d8"},{name:"Group B",value:100,color:"#f0f0f0"}],memdata:[{name:"Group A",value:0,color:"#82ca9d"},{name:"Group B",value:100,color:"#f0f0f0"}]},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/about/serverinfo",{method:"GET"}).then(function(e){if(e.ok)return e.json();c.a.error("\u8bf7\u6c42\u5931\u8d25")}).then(function(t){console.log(t);var a=0,n=0;if(0!=t.object.time){var r=(new Date).getTime()/1e3-t.object.time/1e3;a=parseInt(r/3600),n=parseInt(r%3600/60)}e.setState({tasksum:t.object.task,hostsum:t.object.host,onlinetime:a+"\u5c0f\u65f6"+n+"\u5206\u949f"})},function(e){console.log(e),c.a.error("\u8bf7\u6c42\u5931\u8d25"+e)}),fetch("/api/about/info",{method:"GET"}).then(function(e){if(e.ok)return e.json();c.a.error("\u8bf7\u6c42\u5931\u8d25")}).then(function(t){e.setState({data:t})},function(e){console.log(e),c.a.error("\u8bf7\u6c42\u5931\u8d25"+e)}),fetch("/api/about/realinfo",{method:"GET"}).then(function(e){if(e.ok)return e.json();c.a.error("\u8bf7\u6c42\u5931\u8d25")}).then(function(t){e.setState({cpu:t.cpu,mem:t.mem,cpudata:[{name:"Group A",value:t.cpu,color:"#8884d8"},{name:"Group B",value:100-t.cpu,color:"#f0f0f0"}],memdata:[{name:"Group A",value:t.mem,color:"#82ca9d"},{name:"Group B",value:100-t.mem,color:"#f0f0f0"}]})},function(e){console.log(e),c.a.error("\u8bf7\u6c42\u5931\u8d25"+e)}),this.interval=setInterval(function(){fetch("/api/about/realinfo",{method:"GET"}).then(function(e){if(e.ok)return e.json();c.a.error("\u8bf7\u6c42\u5931\u8d25")}).then(function(t){e.setState({cpu:t.cpu,mem:t.mem,cpudata:[{name:"Group A",value:t.cpu,color:"#8884d8"},{name:"Group B",value:100-t.cpu,color:"#f0f0f0"}],memdata:[{name:"Group A",value:t.mem,color:"#82ca9d"},{name:"Group B",value:100-t.mem,color:"#f0f0f0"}]})},function(e){console.log(e),c.a.error("\u8bf7\u6c42\u5931\u8d25"+e)})},5e3)}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(n.a,{gutter:20},d.a.createElement(r.a,{span:14,offset:1},d.a.createElement(l.a,null,d.a.createElement(o.a,{title:"\u7cfb\u7edf\u4fe1\u606f"},d.a.createElement(o.a.Item,{label:"\u4efb\u52a1\u6570\u91cf",span:3},this.state.tasksum),d.a.createElement(o.a.Item,{label:"\u53d1\u73b0\u4e3b\u673a",span:3},this.state.hostsum,"\u53f0"),d.a.createElement(o.a.Item,{label:"\u8fd0\u884c\u65f6\u95f4",span:3},this.state.onlinetime),d.a.createElement(o.a.Item,{label:"\u6280\u672f\u6808",span:3},d.a.createElement("a",{href:"https://reactjs.org/",target:"_blank"},"React"),"/",d.a.createElement("a",{href:"https://ant.design/index-cn",target:"_blank"},"Antd"),"/",d.a.createElement("a",{href:"https://spring.io/",target:"_blank"},"Spring")),d.a.createElement(o.a.Item,{label:"\u76f8\u5173\u9879\u76ee",span:3},d.a.createElement("a",{href:"https://nmap.org/",target:"_blank"},"nmap"),"/",d.a.createElement("a",{href:"https://github.com/narkisr/nmap4j",target:"_blank"},"nmap4j"),"/",d.a.createElement("a",{href:"http://www.icmp4j.com/d/index.html",target:"_blank"},"icmp4j"),"/",d.a.createElement("a",{href:"https://dev.maxmind.com/geoip/",target:"_blank"},"geoip"),"/",d.a.createElement("a",{href:"https://leafletjs.com/",target:"_blank"},"leaflet"),"/",d.a.createElement("a",{href:"http://recharts.org/zh-CN/",target:"_blank"},"recharts")),d.a.createElement(o.a.Item,{label:"\u9879\u76ee\u5730\u5740",span:3},d.a.createElement("a",{href:"https://github.com",target:"_blank"},"github"))))),d.a.createElement(r.a,{span:8},d.a.createElement(n.a,{gutter:20,style:b},d.a.createElement(r.a,{span:24},d.a.createElement(l.a,{title:"CPU\u4f7f\u7528:"+this.state.cpu+"%"},d.a.createElement(l.a.Grid,{style:E},d.a.createElement(f.j,{width:"100%",height:150},d.a.createElement(f.i,null,d.a.createElement(f.h,{data:this.state.cpudata,startAngle:180,endAngle:0,innerRadius:35,outerRadius:50,fill:"#8884d8",paddingAngle:1,dataKey:"value"},this.state.cpudata.map(function(e,t){return d.a.createElement(f.d,{key:"cell-".concat(t),fill:e.color})}))))),d.a.createElement(l.a.Grid,{style:g},d.a.createElement(f.j,{width:"100%",height:150},d.a.createElement(f.g,{data:this.state.data,margin:{top:5,right:30,left:20,bottom:5}},d.a.createElement(f.c,{strokeDasharray:"3 3"}),d.a.createElement(f.l,{dataKey:"format",type:"category",height:20}),d.a.createElement(f.m,{width:10,domain:[0,100],interval:0}),d.a.createElement(f.k,null),d.a.createElement(f.f,{dataKey:"cpu",stroke:"#8884d8",dot:!1,name:"cpu\u4f7f\u7528\u7387"}))))))),d.a.createElement(n.a,{gutter:20},d.a.createElement(r.a,{span:24},d.a.createElement(l.a,{title:"\u5185\u5b58\u4f7f\u7528:"+this.state.mem+"%"},d.a.createElement(l.a.Grid,{style:E},d.a.createElement(f.j,{width:"100%",height:150},d.a.createElement(f.i,null,d.a.createElement(f.h,{data:this.state.memdata,startAngle:180,endAngle:0,innerRadius:35,outerRadius:50,fill:"#8884d8",paddingAngle:1,dataKey:"value"},this.state.memdata.map(function(e,t){return d.a.createElement(f.d,{key:"cell-".concat(t),fill:e.color})}))))),d.a.createElement(l.a.Grid,{style:g},d.a.createElement(f.j,{width:"100%",height:150},d.a.createElement(f.g,{data:this.state.data,margin:{top:5,right:30,left:20,bottom:5}},d.a.createElement(f.c,{strokeDasharray:"3 3"}),d.a.createElement(f.l,{dataKey:"format",type:"category",height:20}),d.a.createElement(f.m,{width:10,domain:[0,100],interval:0}),d.a.createElement(f.k,null),d.a.createElement(f.f,{dataKey:"mem",stroke:"#82ca9d",dot:!1,name:"\u5185\u5b58\u4f7f\u7528\u7387"}))))))))))}}]),t}(p.Component);t.default=v}}]);